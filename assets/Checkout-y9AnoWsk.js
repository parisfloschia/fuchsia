import{i as f,e as l,u as h,r as p,j as e,m as x,L as u,s as j,t as g,N as b,A as d}from"./index-DfQp_kwH.js";import{L as y}from"./LazyImage-kg_bFK_4.js";function N({onClose:a,item:o}){const n=f();l(s=>s.cart);const t=h();l(s=>s.cart);const[r,c]=p.useState(!1),i=async()=>{c(!0),await t(j(!0)),await t(g(o)),a(),c(!1),n("/orderplaced")},m={initial:{opacity:0,duration:.2},animate:{opacity:1,duration:.5},exit:{opacity:0,transition:{duration:.3}}};return e.jsx(x.div,{initial:"initial",animate:"animate",exit:"wxit",variants:m,onClick:a,className:"bg-black/40 inset-0 z-20 flex justify-center items-center w-full fixed ",children:e.jsxs("div",{onClick:s=>s.stopPropagation(),className:"p-5 bg-white rounded-lg w-10/12 flex flex-col items-center gap-5 z-40",children:[e.jsxs("div",{className:"flex flex-col items-center text-xs gap-1 opacity-60",children:[e.jsx("p",{children:"Note: This cannot be cancelled later."}),e.jsx("p",{children:"Click anywhere outside to close"})]}),e.jsx("p",{className:"text-2xl italic tracking-tighter",children:"Confirm your order"}),e.jsx("button",{onClick:i,className:" text-white font-bold btn bg-gradient-to-r from-indigo-200 to-violet-500",children:r?e.jsx(u,{size:"4px",color:"white"}):"Confirm"})]})})}function k(){const a=f(),[o,n]=p.useState(!1),t=l(i=>i.cart.checkoutDetail),{loading:r}=l(i=>i.cart),c=()=>{a(-1)};return r?e.jsx(u,{}):Object.keys(t).length===0?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:" flex flex-col items-center gap-2",children:[e.jsx("p",{className:" opacity-50",children:"No checkout in progress"}),e.jsx(b,{to:"/",className:"text-white font-bold btn bg-gradient-to-r from-indigo-200 to-violet-500",children:"Go shopping"})]}):e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},className:"w-full flex justify-center",children:e.jsx(d,{children:e.jsxs("div",{className:"w-full flex justify-start rounded-lg shadow-lg p-5 pb-10",children:[e.jsx(d,{children:o&&e.jsx(N,{item:t,onClose:()=>n(!1)})}),e.jsxs("div",{className:"flex flex-col items-center w-full gap-2",children:[e.jsx("div",{className:"h-52 w-full rounded-lg flex justify-center",children:e.jsx(y,{src:t.thumbnail})}),e.jsxs("div",{className:"text-base w-full flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-serif italic text-xl",children:t==null?void 0:t.title}),e.jsx("p",{className:"text-xs uppercase text-indigo-500/40 font-bold",children:t==null?void 0:t.brand})]}),e.jsx("div",{children:e.jsx("p",{children:t==null?void 0:t.description})}),e.jsxs("p",{children:["Price: $",t==null?void 0:t.price]}),e.jsxs("p",{children:["Qty: ",t==null?void 0:t.quantity]}),e.jsxs("p",{className:"font-bold text-lg italic",children:["Total: $",((t==null?void 0:t.price)*(t==null?void 0:t.quantity)).toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-4 items-center justify-end w-full mt-5",children:[e.jsx("button",{onClick:c,className:"btn",children:"Cancel"}),e.jsx("button",{onClick:()=>n(!0),className:"text-white font-bold btn bg-gradient-to-r z-10 from-indigo-200 to-violet-500",children:"Place Order"})]})]})]})})})}export{k as default};
