import{u as x,r as a,e as u,j as e,L as f,N as h,q as c,o as m}from"./index-DHxt021w.js";function j(){const n=x(),[r,o]=a.useState([]),[d,l]=a.useState(!1);u(s=>s.cart);async function t(){l(!0);try{const{data:s}=await c.from("cart").select("*").eq("orderPlaced",!0);s&&(o(s),l(!1))}catch(s){alert(s)}}a.useEffect(()=>{t()},[]);const i=async()=>{await c.from("cart").delete().eq("orderPlaced",!0),t()},p=async s=>{await n(m({type:"uuid",value:s})),t()};return d?e.jsx(f,{}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("p",{className:"opacity-50",children:"No records of transaction."}),e.jsx(h,{to:"/",className:"btn bg-gradient-to-r from-indigo-200 to-violet-500 text-white font-bold",children:"Go shopping"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-1 w-full",children:[e.jsxs("div",{className:"grid grid-cols-12 grid-rows-1 items-center gap-1 text-xs italic w-full",children:[e.jsx("p",{className:"col-span-3 h-full flex items-center p-2 justify-center border-[1px] rounded border-gray-800",children:"Product"}),e.jsx("p",{className:"col-span-3 h-full flex items-center p-2 justify-center border-[1px] border-gray-800 rounded",children:"Qty*Price"}),e.jsx("p",{className:"col-span-3 h-full flex items-center p-2 justify-center border-[1px] border-gray-800 rounded",children:"Total"}),e.jsx("p",{className:"col-span-3 h-full flex items-center p-2 justify-center border-[1px] border-gray-800 rounded",children:"Added to cart/Order placed"})]}),r.length>0&&r.slice().reverse().map(s=>e.jsxs("div",{className:"grid grid-cols-12 text-xs gap-2 w-full p-5 border-[1px] border-gray-700 rounded",children:[e.jsx("p",{className:"col-span-3 text-left",children:s.title}),e.jsxs("p",{className:"col-span-3 text-center",children:[s.quantity,"*$",s.price]}),e.jsxs("p",{className:"col-span-3 text-center",children:["$",(s.quantity*s.price).toFixed(2)]}),e.jsx("p",{className:"col-span-3 text-right",children:s.created_at.split("T")[0]}),e.jsx("div",{className:"col-span-12 flex justify-end",children:e.jsx("button",{className:"text-red-400 btn",onClick:()=>p(s.uuid),children:"Remove"})})]},s.uuid)),r.length>1&&e.jsx("p",{onClick:i,className:" text-red-400 w-full text-center btn my-2",children:"Clear all"})]})}export{j as default};
