import{r as s,u as f,i as h,j as t,L as m,m as n,N as o,o as j,k as g,p as y}from"./index-1QzrYtfZ.js";import{L as N}from"./LazyImage-CndQilga.js";function w(){const[a,r]=s.useState([]),[d,i]=s.useState(!1),c=f(),u=h();async function l(){i(!0);try{const{data:e}=await j.from("cart").select("*").eq("orderPlaced",!1);e&&(r(e),i(!1))}catch(e){alert(e)}}s.useEffect(()=>{l()},[]);const x=async e=>{await c(g(e)),u("/checkout")},p=async e=>{await c(y({type:"uuid",value:e.uuid})),l()};return d?t.jsx(m,{}):a.length===0?t.jsxs(n.div,{initial:{opacity:0},animate:{opacity:100},exit:{opacity:0},className:"flex flex-col items-center gap-2",children:[t.jsx("p",{className:"opacity-50",children:"No products were added to your cart"}),t.jsx(o,{to:"/",className:"btn bg-gradient-to-r from-indigo-200 to-violet-500 text-white font-bold",children:"Go shopping"})]}):t.jsx("div",{className:"w-full flex justify-center",children:a.length>0&&t.jsx("div",{className:"w-full flex flex-col items-center",children:a.slice().reverse().map(e=>t.jsxs(n.div,{initial:{opacity:0},animate:{opacity:100},exit:{opacity:0},className:"p-5 rounded-lg shadow-lg w-full flex flex-col items-start gap-2",children:[t.jsx("div",{className:"h-60 w-full",children:t.jsx(N,{src:e.thumbnail})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-serif text-xl italic",children:e.title}),t.jsx("p",{className:"text-xs uppercase text-indigo-500/50 font-bold",children:e.brand||"no brand"}),t.jsxs("p",{className:"text-xs uppercase opacity-50",children:["Quantity: ",e.quantity]}),t.jsxs("p",{className:"text-xs uppercase opacity-50",children:["Total: $",(e.price*e.quantity).toFixed(2)]})]}),t.jsxs("div",{className:"w-full flex justify-center items-center gap-2",children:[t.jsx("button",{onClick:()=>p(e),className:"btn text-red-400 truncate",children:"Remove"}),t.jsx(o,{to:`/detail/${e.id}`,className:"btn ",children:"Details"}),t.jsx("button",{onClick:()=>x(e),className:"btn bg-gradient-to-r from-indigo-200 to-violet-500 font-bold text-white",children:"Checkout"})]})]},e.uuid))})})}export{w as default};
